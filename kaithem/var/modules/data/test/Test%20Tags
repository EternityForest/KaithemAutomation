continual: false
disabled: false
once: true
priority: interactive
rate-limit: 0.0
resource-type: event
trigger: 'False'
versions:
  action: pass
  continual: false
  priority: interactive
  rate-limit: 0.0
  resource-type: event
  setup: "#This code runs once when the event loads. It also runs when you save the\
    \ event during the test compile\r\n#and may run multiple times when kaithem boots\
    \ due to dependancy resolution\r\n__doc__=''\r\nimport time\r\nt = module.Tag(\"\
    test\")\r\n\r\nx = 0\r\n\r\ndef f(v):\r\n    global x\r\n    x = v\r\nt.subscribe(f)\r\
    \nt(5)\r\ntime.sleep(0.1)\r\nif not x==5:\r\n    raise RuntimeError()"
  trigger: 'False'

#End metadata. Format: metadata, setup, action, delimited by --- on it's own line.
---
#This code runs once when the event loads. It also runs when you save the event during the test compile
#and may run multiple times when kaithem boots due to dependancy resolution
__doc__=''
import time
t = module.Tag("test")
t.interval = 1
x = 0

def f(v):
    global x
    x = v
    print(v)
t.subscribe(f)
t(5)
time.sleep(0.1)
if not x==5:
    raise RuntimeError()
    

---
pass