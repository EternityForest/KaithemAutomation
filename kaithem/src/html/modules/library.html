<%!
from src.util import url
from src import util,directories
import os, yaml
%>
<%include file="/pageheader.html"/>
<h2>Modules Library<sup><a href="/docs#modules">[help]</a></sup></h2>
<title>Kaithem Modules Library</title>


<h3>Library Modules</h3>
<div class="sectionbox">
<p class=help>These modules are available on the server but not currently loaded.</p>
</p>

<hr>
<dl>
<%
libdir = os.path.join(directories.datadir,"modules")
%>

%for i in sorted(util.get_immediate_subdirectories(libdir)):
   <dt><b>${i|h}</b><form method=POST action="/modules/loadlibmodule/${url(i)}">
   <input type="submit" value="Load"></input>
   </form></dt>
   <dd><pre style="white-space: pre-wrap;">${yaml.load(open(os.path.join(libdir,i,"__description")))['text']|h}</pre></dd>
%endfor
</ul>
</div>
<%include file="/pagefooter.html"/>
