<%!
from src.util import url
from src import util,directories
import os,json
%>
<%include file="/pageheader.html"/>
<h2>Modules Library<sup><a href="/docs#modules">[help]</a></sup></h2>
<title>Kaithem Modules Library</title>


<h3>Library Modules</h3>
<div class="sectionbox">
<p class=help>These modules are available on the server but not currently loaded.</p>
</p>

<hr>
<dl>
<%
libdir = os.path.join(directories.datadir,"modules")
%>

%for i in sorted(util.get_immediate_subdirectories(libdir)):
   <dt>${i|h}<a class="button" href="/modules/loadlibmodule/${url(i)}">Load</a></dt>
   <dd>${json.load(open(os.path.join(libdir,i,"__description")))['text']|h}</dd>
%endfor
</ul>
</div>