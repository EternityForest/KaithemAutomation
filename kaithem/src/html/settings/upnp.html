<%include file="/pageheader.html"/>
<%
from kaithem.src import upnpwrapper
%>
<h1>Local Network</h1>
<div class="window paper">
<h2>WAN Adddresses</h2>
<details class="help"><summary><i class="mdi mdi-help-circle-outline"></i></summary>Only UPnP routers listed here, You may need to refresh because of how discovery works.</details>
<ul>
%for i in upnpwrapper.getWANAddresses():
<li>${i}</li>
%endfor

</ul>
    
</table>

<h2>Detected Port Mappings</h2>
<table>
    <tr>
        <th>WAN Addr</th><th>LAN Addr</th><th>Protocol</th><th>Description</th><th>Duration</th>
    </tr>   
%for i in upnpwrapper.listMappings():
<tr>
    <td>${i['external']}</td>
    <td>${i['internal']}</td>
    <td>${i['protocol']}</td>
    <td>${i['description']}</td>
    <td>${i['duration']}</td>

</tr>
%endfor

</table>
</div>
<%include file="/pagefooter.html"/>