<%include file="/pageheader.html"/>
<%!
from kaithem.src import wifimanager
%>
<title>Wifi</title>
<div class="sectionbox" style="height: 80vh">
  <script type="text/javascript" src="/static/widget.js"></script>
  <style>
    button.bold {
      font-weight: bolder;
      text-shadow: 5px;

    }
  </style>


  ${wifimanager.api.render("api")}
  <h2>Kaithem WiFi Status</h2>

  <div id="app" class=sectionbox
    style="height:95%;overflow-x: scroll; overflow-y: hidden; min-width: 80%; max-width: 10000%; max-height: 98%;     white-space: nowrap;">



    <h3>Network Interfaces</h3>
    <table border=1>
      <tr>
        <th>Interface</th>
        <th>Connected To</th>
        <th>Strength</th>
        <th>Mode</th>
      </tr>

      <tr v-for="v,i in status">
        <td>{{i}}</td>
        <td>{{v[0]}}</td>
        <td>{{v[1]}}% <meter style="float: right;" v-bind:value="v[1]" min=0 max=100 low=35></meter></td>
        <td title="AP indicates this machine is the access point. STA indicates that it is the client">{{v[2]}}</td>
      </tr>
    </table>



  </div>



  <script src="/static/js/vue2.js"></script>


  <script>
    var app = new Vue({
      el: '#app',
      data: {
        connections: [],
        status: {},
        api: api,

      }
    }
    );

    api.upd = function (msg) {
      if (msg[0] == "status") {
        app.$data.status = msg[1]
      }
    }

    api.send(['refresh']);
  </script>

</div>
<%include file="/pagefooter.html"/>