<%!
from kaithem.src.kaithemobj import kaithem

%>



<h3>Info</h3>
<p class="warning">
Most devices supported by this are not secure
</p>


<p class="help">
This device listens for unencrypted RF packets from things like weather stations, TPMS, and keychain remotes.
It relies on rtl_433 in MQTT mode to do the actual recieving. EmberOS's autorun config file has an option to turn this on.
</p>

<table>
    <tr>
        <td>ID(Meaning may vary between devices, leave blank for no filtering)</td>
        <td><input list="ble" name="device.id" value="${data.get('device.id','')|h}"></td>
    </tr>
    <tr>
        <td>Model(Leave blank for no filtering)</td>
        <td><input list="ble" name="device.id" value="${data.get('device.model','')|h}"></td>
    </tr>
    <tr>
        <td>Expected beacon interval(Used for presence detection)</td>
        <td><input name="device.interval" value="${data.get('device.interval','5')|h}"></td>
    </tr>

    <tr>
        <td>MQTT server(user@server or just server for anon)</td>
        <td><input name="device.server" value="${data.get('device.server','localhost')|h}" placeholder="Server"></td>
    </tr>
    <tr>
        <td>Port</td>
        <td><input name="device.port" value="${data.get('device.port','1883')|h}" placeholder="Port"></td>
    </tr>
 
    <tr>
        <td>Password(Empty for anon)</td>
        <td><input name="device.password" value="${data.get('device.password','')|h}" placeholder="PW"></td>
    </tr>
    <tr>
        <td>MQTT Topic</td>
        <td><input name="device.mqtttopic" value="${data.get('device.mqtttopic','home/rtl_433')|h}" placeholder="PW"></td>
    </tr>
</table>
