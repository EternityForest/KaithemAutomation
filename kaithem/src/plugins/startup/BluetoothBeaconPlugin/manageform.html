<%!
from src.kaithemobj import kaithem

%>

<datalist id="ble" name="ble">
    %for i in kaithem.blebeacons._allBLEDevices:
    <option value="${i|h}">${kaithem.blebeacons._allBLEDevices[i]}</option>
    %endfor

</datalist>


<h3>Info</h3>
<p class="warning">
Some people may wish to avoid carrying portable keychain type Eddystone beacons as other people within range could use them
to track you.
</p>


<p class="help">
This device scans for one Bluetooth Low Energy beacon. Currently all it does is make a tag point that tracks it's RSSI.
All BLE devices have a unique MAC address, use that to track this.  You need to refresh the page to update the autocomplete menu.

You may want to download a BLE scanner app from your phone's app store to see which address belongs to your device.

This requires that the process be root, or have the capabilities to do BT scanning.
</p>
<table>
    <tr>
        <td>MAC Address, UUID, or Identifier</td>
        <td><input list="ble" name="device.id" value="${data.get('device.id','')|h}"></td>
    </tr>
    <tr>
        <td>Expected beacon interval(Used for presence detection)</td>
        <td><input name="device.interval" value="${data.get('device.interval','5')|h}"></td>
    </tr>
</table>
